.program tandy

; TNDLPT - Sound part (no reset/ready signal)
; INPUTS: D0-D7
; OUTPUTS: none

.define STROBE 0
.define INIT 12

.wrap_target
    wait 0 gpio STROBE      ; Check CE is high (STROBE)
    wait 1 gpio INIT
    wait 0 gpio INIT        ; Wait for WE edge (INIT)
    in pins, 8              ; Read data (D0-D7)
    push block              ; Send data
.wrap