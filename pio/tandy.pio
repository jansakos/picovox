.define STROBE 0            ; Set to proper STROBE
.define INIT 12             ; Set to proper INIT

.program tandy

; TNDLPT - Sound part (no reset/ready signal)
; INPUTS: D0-D7
; OUTPUTS: none

.wrap_target
    wait 0 gpio STROBE      ; Check CE is high (STROBE)
    wait 0 gpio INIT        ; Wait for WE edge (INIT)
    in pins, 8              ; Read data (D0-D7)
    push block              ; Send data
    wait 1 gpio INIT
.wrap